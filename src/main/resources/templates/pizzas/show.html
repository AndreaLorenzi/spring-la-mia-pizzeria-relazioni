<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:insert="fragments/resources :: headResources('Pizza List')"></head>
<body>
<nav th:replace="fragments/navbar :: topNavbar('pizzas')"></nav>
<div class="container">
    <div style="margin-top:2rem;" th:object="${pizza}">
        <dl style="margin-left:33%;">
            <dt>Name</dt>
            <dd th:text="*{name}"></dd>
            <dt>Image</dt>
            <img class="d-block h-25 w-25" th:src="*{imageUrl}">
            <dt>Price</dt>
            <dd th:text="*{price}"></dd>
            <dt>Description</dt>
            <dd th:text="*{description}"></dd>
        </dl>
        <div style="margin-left:33%;" class="mt-2">
            <a th:href="@{/pizzas}" class="btn btn-secondary">Back to list</a>
        </div>

    <section>
        <h2>discount
            <a
                    th:href="@{/discounts/create(pizzaId=*{id})}"
            ><i class="fa-solid fa-circle-plus"></i></a>

        </h2>

        <table class="table">
            <thead>
            <tr>
                <th>Start date</th>
                <th>Expire date</th>
                <th>discount</th>

                <th></th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="discount : *{discounts}" th:object="${discount}">
                <td th:text="*{startDate}"></td>
                <td th:text="*{finishDate}"></td>
                <td th:text="*{title}"></td>
                <td>
                    <a
                            class="btn btn-primary"
                            th:href="@{/discounts/edit/{id}(id=*{id})}" title="edit">
                        <i class="fa-solid fa-pen-to-square"></i>
                    </a>
                </td>
            </tr>
            </tbody>
        </table>
        <!--<div th:if="*{discounts.size() == 0}" class="alert alert-info">The list is empty</div>-->
    </section>
</div>

</body>
</html>